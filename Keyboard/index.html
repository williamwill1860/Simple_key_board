<!DOCTYPE html>
<html >
<head>
    <meta charset="UTF-8">
    <style>
        @import url(CSS/keyindex.css);
    </style>
</head>

    <body>
        <div class="inputs">
            
            <div class="output">
                <p class="outWord"id="selectedSymbols">:</p>
                <p class="clear">
                    <button onmouseover="Mychose(id)"onmouseout = "Mychose2(id)"class="input_1"id="clearLocalStorageButton">清除</button>
                </p>
            </div>
                <form  method="get" action="confirm.html">
                    <input onmouseover="Mychose(id)"onmouseout = "Mychose2(id)"id = "input_0"class="input_1"type="submit"name="input_1"value="ㄅ ㄆ ㄇ ㄈ">
                    <input onmouseover="Mychose(id)"onmouseout = "Mychose2(id)"id = "input_1"class="input_1"type="submit"name="input_1"value="ㄉ ㄊ ㄋ ㄌ">
                    <input onmouseover="Mychose(id)"onmouseout = "Mychose2(id)"id = "input_2"class="input_1"type="submit"name="input_1"value="ㄍ ㄎ ㄏ ㄐ">
                    <input onmouseover="Mychose(id)"onmouseout = "Mychose2(id)"id = "input_3"class="input_1"type="submit"name="input_1"value="ㄑ ㄒ ㄓ">
                    <input onmouseover="Mychose(id)"onmouseout = "Mychose2(id)"id = "input_4"class="input_1"type="submit"name="input_1"value="ㄔ ㄕ ㄖ">
                    <input onmouseover="Mychose(id)"onmouseout = "Mychose2(id)"id = "input_5"class="input_1"type="submit"name="input_1"value="ㄗ ㄘ ㄙ">
                    <input onmouseover="Mychose(id)"onmouseout = "Mychose2(id)"id = "input_6"class="input_1"type="submit"name="input_1"value="ㄧ ㄨ ㄩ">
                    <input onmouseover="Mychose(id)"onmouseout = "Mychose2(id)"id = "input_7"class="input_1"type="submit"name="input_1"value="ㄚ ㄛ ㄜ ㄝ">
                    <input onmouseover="Mychose(id)"onmouseout = "Mychose2(id)"id = "input_8"class="input_1"type="submit"name="input_1"value="ㄞ ㄟ ㄠ ㄡ">
                    <input onmouseover="Mychose(id)"onmouseout = "Mychose2(id)"id = "input_9"class="input_1"type="submit"name="input_1"value="ㄢ ㄣ ㄤ ㄥ ㄦ">
                    <input onmouseover="Mychose(id)"onmouseout = "Mychose2(id)"id = "input_10"class="input_1"type="submit"name="input_1"value="_ ˊ ˇ ˋ ˙">
                    <input onmouseover="Mychose(id)"onmouseout = "Mychose2(id)"class="input_1"id="backspaceButton"type="button"value="退格">

                </form>
        </div>
        

        <script>
            
            var selectedSymbols = localStorage.getItem("selectedSymbols");// 從 localStorage 中獲取歷史資料
            var clearLocalStorageButton = document.getElementById("clearLocalStorageButton");//清空鍵
            var backspaceButton = document.getElementById("backspaceButton"); //退格鍵
            if (selectedSymbols) {
                
                console.log(selectedSymbols);
                var symbolsArray = selectedSymbols.split(" ");
                var selectedSymbolsElement = document.getElementById("selectedSymbols");
                selectedSymbolsElement.textContent = ":" + symbolsArray.join(" ");
            }
            clearLocalStorageButton.addEventListener("click", function() {

            // 清除 localStorage 中的 selectedSymbols
                localStorage.removeItem("selectedSymbols");
                
                // 更新頁面上的顯示
                var selectedSymbolsElement = document.getElementById("selectedSymbols");
                selectedSymbolsElement.textContent = "清除目前所有的輸入";
            });
            
            //退格功能
            backspaceButton.addEventListener("click", function() {
                // 从 localStorage 中获取已选择的注音符号
                var selectedSymbols = localStorage.getItem("selectedSymbols");
                
                if (selectedSymbols) {
                    var symbolsArray = selectedSymbols.split(" ");
                    
                    // 删除最后一个值
                    symbolsArray.pop();
                    
                    // 更新 localStorage 中的值
                    localStorage.setItem("selectedSymbols", symbolsArray.join(" "));
                    
                    // 更新頁面上的顯示
                    var selectedSymbolsElement = document.getElementById("selectedSymbols");
                    selectedSymbolsElement.textContent = "：" + symbolsArray.join(" ");
                }
            });
            //選到按鈕變色
            function Mychose(id){
                var chose = id;
                document.getElementById(chose).style="background-color:#f1f1f1;background-color: aliceblue ;"
            }
            function Mychose2(id){
                var chose = id;
                document.getElementById(chose).style="background-color:#f1f1f25"
            }
        </script>
    </body>
</html>