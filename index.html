<!DOCTYPE html>
<html >
<head>
    <meta charset="UTF-8">
    <style>
        @import url(CSS/keyindex.css);
    </style>
</head>
    <body>
        <div class="inputs">
                <form method="get" action="confirm.html">
                    <input class="input_1"type="submit"name="input_1"value="ㄅ ㄆ ㄇ ㄈ">
                    <input class="input_1"type="submit"name="input_1"value="ㄉ ㄊ ㄋ ㄌ">
                    <input class="input_1"type="submit"name="input_1"value="ㄍ ㄎ ㄏ ㄐ">
                    <input class="input_1"type="submit"name="input_1"value="ㄑ ㄒ ㄓ">
                    <input class="input_1"type="submit"name="input_1"value="ㄔ ㄕ ㄖ">
                    <input class="input_1"type="submit"name="input_1"value="ㄗ ㄘ ㄙ">
                    <input class="input_1"type="submit"name="input_1"value="ㄧ ㄨ ㄩ">
                    <input class="input_1"type="submit"name="input_1"value="ㄚ ㄛ ㄜ ㄝ">
                    <input class="input_1"type="submit"name="input_1"value="ㄞ ㄟ ㄠ ㄡ">
                    <input class="input_1"type="submit"name="input_1"value="ㄢ ㄣ ㄤ ㄥ ㄦ">
                    <input class="input_1"type="submit"name="input_1"value="_ ˊ ˇ ˋ ˙">
                </form>
        </div>
        <div class="output">
            <p class="outWord"id="selectedSymbols">:</p>
            <button class="input_1"id="backspaceButton">退格</button>
            <button class="input_1"id="clearLocalStorageButton">清除</button>
        </div>
        

        <script>
            
            var selectedSymbols = localStorage.getItem("selectedSymbols");// 從 localStorage 中獲取歷史資料
            var clearLocalStorageButton = document.getElementById("clearLocalStorageButton");//清空鍵
            var backspaceButton = document.getElementById("backspaceButton"); //退格鍵
            if (selectedSymbols) {
                var symbolsArray = selectedSymbols.split(" ");
                var selectedSymbolsElement = document.getElementById("selectedSymbols");
                selectedSymbolsElement.textContent = ":" + symbolsArray.join(" ");
            }
            clearLocalStorageButton.addEventListener("click", function() {

            // 清除 localStorage 中的 selectedSymbols
                localStorage.removeItem("selectedSymbols");
                
                // 更新頁面上的顯示
                var selectedSymbolsElement = document.getElementById("selectedSymbols");
                selectedSymbolsElement.textContent = "清除目前所有的輸入";
            });
            
            //退格功能
            backspaceButton.addEventListener("click", function() {
                // 从 localStorage 中获取已选择的注音符号
                var selectedSymbols = localStorage.getItem("selectedSymbols");
                
                if (selectedSymbols) {
                    var symbolsArray = selectedSymbols.split(" ");
                    
                    // 删除最后一个值
                    symbolsArray.pop();
                    
                    // 更新 localStorage 中的值
                    localStorage.setItem("selectedSymbols", symbolsArray.join(" "));
                    
                    // 更新頁面上的顯示
                    var selectedSymbolsElement = document.getElementById("selectedSymbols");
                    selectedSymbolsElement.textContent = "：" + symbolsArray.join(" ");
                }
            });
        </script>
    </body>
</html>